<!DOCTYPE html>
<html lang="en">
<head><title>Holy Spirit Stocks</title></head>
  <body>
    <p>You have <span id="money"></span>$</p>
    <p id="aapl">You own <span id="aapl-shares">0</span> shares of AAPL - Apple</p>
    <p>The price of AAPL is <span id="current-price"></span> dollars a share</p>
    <p>Your return is <span id="return"></span>$</p>
    <input id="aapl-buy">
    <button id="aapl-button-buy">Buy for <span id="aapl-price-buy"></span>$</button>
    <button id="aapl-button-sell">Sell for <span id="aapl-price-sell"></span>$</button>
  </body>
  <script>
    var money = 100000;
    var aaplShares = 0;
    var aaplPrice = 10;
    var spent = 0;
    var input = document.getElementById("aapl-buy");
    var button = document.getElementById("aapl-button-buy");
    var button2 = document.getElementById("aapl-button-sell");
    var shares = document.getElementById("aapl-shares");
    var price = document.getElementById("aapl-price-buy");
    var price2 = document.getElementById("aapl-price-sell");
    var currentPrice = document.getElementById("current-price");
    var returnSpan = document.getElementById("return");
    var moneySpan = document.getElementById("money");
    currentPrice.innerHTML = aaplPrice;
    returnSpan.innerHTML = 0;
    price.value = 0;
    price2.value = 0;
    moneySpan.innerHTML = money;
    function buyAapl(){
      if (money >= (parseInt(input.value)*aaplPrice)){
        money-=parseInt(input.value)*aaplPrice;
        spent+=input.value*aaplPrice;
        aaplShares+=parseInt(input.value);
        shares.innerHTML = aaplShares;
        if (Math.random()<0.1){
          aaplPrice += 1;
          currentPrice.innerHTML = aaplPrice;
        } 
        moneySpan.innerHTML = money;
      } else {
        alert("Not enough money");
      }
    }
    function sellAapl(){
      if (aaplShares >= parseInt(input.value)){
        money+=parseInt(input.value)*aaplPrice;
        spent-=input.value*aaplPrice;
        aaplShares-=parseInt(input.value);
        shares.innerHTML = aaplShares;
        if (Math.random()<0.1){
         aaplPrice += 1;
         currentPrice.innerHTML = aaplPrice;
        }
        moneySpan.innerHTML = money;
      } else {
        alert("You don't have that many shares");
      }
      if (spent<0) {
        returnSpan.innerHTML = 0-spent;
      }
    }
    function updatePrices(){
      price.innerHTML = parseInt(input.value)*aaplPrice;
      price2.innerHTML = parseInt(input.value)*aaplPrice;
    }
    input.addEventListener("input",updatePrices);
    button2.addEventListener("click",sellAapl);
    button.addEventListener("click", buyAapl);
  </script>
</html>
